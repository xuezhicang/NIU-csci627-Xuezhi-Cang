// Adds a band containing image date as years since 1991.
function createTimeBand_collection(img) {
  var year = ee.Date(img.get('system:time_start')).get('year').subtract(2000);
  return ee.Image(year).byte().addBands(img);
}

// put population density and nighttime light in the collection
var pop_collection = ee.ImageCollection('CIESIN/GPWv4/unwpp-adjusted-population-density')
    .select('population-density')
    .filterDate('2000-01-01', '2015-12-31')
    .map(createTimeBand_collection);
var light_collection = ee.ImageCollection('NOAA/DMSP-OLS/NIGHTTIME_LIGHTS')
    .filterDate('2000-01-01', '2015-12-31')
    .select('stable_lights')
    .map(createTimeBand_collection);
    
    
Map.addLayer(pop_collection,{},'population_lyr');   
Map.addLayer(light_collection,{},'light_lyr');   





function drawPolygon() {
  clearGeometry();
  drawingTools.setShape('polygon');
  drawingTools.draw();
}
function drawPoint() {
  clearGeometry();
  drawingTools.setShape('point');
  drawingTools.draw();
}
var controlPanel = ui.Panel({
  widgets: [
    ui.Label('1. Select a drawing mode.'),

    ui.Button({
      label: ' Polygon',
      onClick: drawPolygon,
      style: {stretch: 'horizontal'}
    }),
    ui.Button({
      label:  ' Point',
      onClick: drawPoint,
      style: {stretch: 'horizontal'}
    }),
    ui.Label('2. Draw a geometry.'),
    ui.Label('3. Wait for chart to render.'),
    ui.Label(
        '4. Repeat 1-3 or edit/move\ngeometry for a new chart.',
        {whiteSpace: 'pre'})
  ],
  style: {position: 'bottom-left'},
  layout: null,
});

Map.add(controlPanel);